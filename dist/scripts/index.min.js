var carousel=document.querySelector(".c-carousel__items"),carouselSlidesQuantity=document.querySelectorAll(".c-carousel__item").length,carouselArrowNext=document.querySelector(".c-carousel__arrow--next"),carouselArrowPrev=document.querySelector(".c-carousel__arrow--prev"),counter=1;carouselArrowNext.addEventListener("click",function(){var e="".concat(counter%carouselSlidesQuantity,"00");carousel.style.transform="translate(-".concat(e,"%, 0)"),counter++}),carouselArrowPrev.addEventListener("click",function(){var e="-".concat(counter%carouselSlidesQuantity,"00");carousel.style.transform="translate(".concat(e,"%, 0)"),counter--});
function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var products_ul=document.querySelector(".products"),renderProduct=function(e){var r=document.createElement("li");r.classList.add("product");var t=document.createElement("img");t.classList.add("product__image"),t.setAttribute("src","images/products/sofa-1.jpg"),r.append(t);var n=document.createElement("a");n.classList.add("product__link");var a=document.createElement("h2");a.innerText=e.name,a.classList.add("product__title"),n.append(a),r.append(n);var o=document.createElement("div");o.classList.add("product__details");var c=document.createElement("cat");c.classList.add("product__cat"),c.innerText=e.type,o.append(c);var i=document.createElement("price");i.classList.add("product__price"),i.innerText="$".concat(e.price),i.setAttribute("data-price",e.price),o.append(i),r.append(o);var u=document.createElement("button");u.classList.add("product__add");var s=document.createElement("img");s.setAttribute("src","images/icons/cart.svg"),s.setAttribute("width","24"),s.setAttribute("height","24"),s.setAttribute("alt","add to cart"),u.append(s),u.addEventListener("click",function(){addToCart(e)}),r.append(u),products_ul.append(r)},renderProducts=function(e){products_ul.innerHTML="",e.filter(function(e,r){var t=(pageNumber-1)*quantityPerPage;return t<=r&&r<t+quantityPerPage}).forEach(function(e){renderProduct(e)}),paginationLinksToRender=parseInt(e.length/quantityPerPage)+1,renderPaginationLinks(paginationLinksToRender)},cart=null!=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],cartQuantity=document.querySelector(".cart-quantity"),cartElement=document.querySelector(".c-header__menu-btn--cart"),renderNewCartSize=function(){cartQuantity.innerText=cart.length};renderNewCartSize();var addToCart=function(e){console.log("add to cart",e),cart.push(e),console.log(cart),localStorage.setItem("cart",JSON.stringify(cart)),renderNewCartSize()},paginationLinksContainer=document.querySelector(".pagination"),quantityPerPage=6,paginationLinksToRender=parseInt(products.length/quantityPerPage)+1,pageNumber=1,renderPaginationLinks=function(e){paginationLinksContainer.innerHTML="";for(var r=e+1,t=1;t<r;t++)renderPaginationLink(t);renderPaginationNextLink(),document.querySelector(".pagination .next").addEventListener("click",function(e){e.preventDefault();var r=document.querySelector(".pagination li:nth-of-type(".concat(pageNumber,") a"));console.log(r),pageNumber>products.length/quantityPerPage||(console.log(pageNumber),r.classList.remove("active"),document.querySelector(".pagination li:nth-of-type(".concat(pageNumber+1,") a")).classList.add("active"),pageNumber++,renderProducts(products))});var n=document.querySelectorAll(".pagination a:not(.next)");n.forEach(function(r){r.addEventListener("click",function(e){n.forEach(function(e){e.classList.remove("active")}),r.classList.add("active"),e.preventDefault(),pageNumber=e.target.innerText,renderProducts(products)})})},renderPaginationNextLink=function(){var e=document.createElement("li"),r=document.createElement("a");r.innerHTML=">",r.classList.add("next"),e.append(r),paginationLinksContainer.append(e)},renderPaginationLink=function(e){var r=document.createElement("li"),t=document.createElement("a");1===(t.innerText=e)&&t.classList.add("active"),r.append(t),paginationLinksContainer.append(r)};renderProducts(products);var uniqueColorsArrays=products.map(function(e){return e.colors}),uniqueColorsValuesArray=[];uniqueColorsArrays.forEach(function(e,r){for(var t=0;t<e.length;t++){var n=e[t];uniqueColorsValuesArray.push(n)}}),uniqueColorsValuesArray=Array.from(new Set(uniqueColorsValuesArray));var uniqueCategories=products.map(function(e){return e.type});uniqueCategories=Array.from(new Set(uniqueCategories));var colorsCheckboxContainer=document.querySelector("ul[data-filter-tax=colors]"),typesCheckboxContainer=document.querySelector("ul[data-filter-tax=types]"),userCheckedTaxes={},applyTaxEventListener=function(e,a){e.addEventListener("change",function(e){var r=e.target.value;if(userCheckedTaxes.hasOwnProperty(a))if(userCheckedTaxes[a].includes(r)){var t=userCheckedTaxes[a].findIndex(function(e){return e===r});userCheckedTaxes[a].splice(t,1),0===userCheckedTaxes[a].length&&delete userCheckedTaxes[a]}else userCheckedTaxes[a].push(r);else{var n=[];n.push(r),userCheckedTaxes[a]=n}applyTaxes(userCheckedTaxes)})},productDoesMatchSelections=function(e,t){var r=Object.keys(t);return r.filter(function(r){return Array.isArray(e[r])?e[r].some(function(e){return t[r].includes(e)}):"string"==typeof e[r]?t[r].includes(e[r]):void 0}).length===r.length},applyTaxes=function(r){var e;e=products.filter(function(e){return productDoesMatchSelections(e,r)}),console.log(e),renderProducts(e)},renderTaxes=function(e,a){var o=document.querySelector("ul[data-filter-tax=".concat(a,"]"));o.innerHTML="",e.sort(),e.forEach(function(e){var r=document.createElement("li"),t=document.createElement("label");t.innerText=e,t.setAttribute("for",e);var n=document.createElement("input");n.type="checkbox",n.value=e,n.name=e,n.id=e,r.append(n),r.append(t),o.append(r),applyTaxEventListener(n,a)})};renderTaxes(uniqueColorsValuesArray,"colors"),renderTaxes(uniqueCategories,"type");var range=document.querySelector(".range__input"),rangeScaleLow=document.querySelector(".range__scale--low"),rangeScaleHigh=document.querySelector(".range__scale--high"),lowestProductPrice=_toConsumableArray(products).sort(function(e,r){return e.price-r.price})[0].price,highestProductPrice=_toConsumableArray(products).sort(function(e,r){return r.price-e.price})[0].price;rangeScaleLow.innerText="$".concat(lowestProductPrice),rangeScaleHigh.innerText="$".concat(highestProductPrice),range.setAttribute("min",lowestProductPrice),range.setAttribute("max",highestProductPrice);var applyFilters=function(r,t){var e=products.filter(function(e){return e.price>=r&&e.price<=t});renderProducts(e)};range.addEventListener("change",function(){console.log(range.value);var e=parseInt(0),r=parseInt(range.value);applyFilters(e,r)});var sortProductsSelect=document.querySelector("#sort_products");sortProductsSelect.addEventListener("change",function(e){var r=e.target.value;if("default"===r)renderProducts(products);else if("price_highest"===r){var t=_toConsumableArray(products).sort(function(e,r){return r.price-e.price});renderProducts(t)}else if("price_lowest"===r){var n=_toConsumableArray(products).sort(function(e,r){return e.price-r.price});renderProducts(n)}});