var carousel=document.querySelector(".c-carousel__items"),carouselSlidesQuantity=document.querySelectorAll(".c-carousel__item").length,carouselArrowNext=document.querySelector(".c-carousel__arrow--next"),carouselArrowPrev=document.querySelector(".c-carousel__arrow--prev"),counter=1;carouselArrowNext.addEventListener("click",function(){var e="".concat(counter%carouselSlidesQuantity,"00");carousel.style.transform="translate(-".concat(e,"%, 0)"),counter++}),carouselArrowPrev.addEventListener("click",function(){var e="-".concat(counter%carouselSlidesQuantity,"00");carousel.style.transform="translate(".concat(e,"%, 0)"),counter--});
function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){function r(){}var t=0;return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}var products_ul=document.querySelector(".products"),renderProduct=function(e){var r=document.createElement("li");r.classList.add("product");var t=document.createElement("img");t.classList.add("product__image"),t.setAttribute("src","images/products/sofa-1.jpg"),r.append(t);var n=document.createElement("a");n.classList.add("product__link");var o=document.createElement("h2");o.innerText=e.name,o.classList.add("product__title"),n.append(o),r.append(n);var a=document.createElement("div");a.classList.add("product__details");var u=document.createElement("cat");u.classList.add("product__cat"),u.innerText=e.type,a.append(u);var c=document.createElement("price");c.classList.add("product__price"),c.innerText="$".concat(e.price),c.setAttribute("data-price",e.price),a.append(c),r.append(a);var i=document.createElement("button");i.classList.add("product__add"),i.setAttribute("src","images/icons/cart.svg"),i.setAttribute("width","24"),i.setAttribute("height","24"),i.setAttribute("alt","add to cart"),r.append(i),products_ul.append(r)},renderProducts=function(e){products_ul.innerHTML="",e.forEach(function(e){renderProduct(e)})};renderProducts(products);var uniqueColorsArrays=products.map(function(e){return e.colors}),uniqueColorsValuesArray=[];uniqueColorsArrays.forEach(function(e,r){for(var t=0;t<e.length;t++){var n=e[t];uniqueColorsValuesArray.push(n)}}),uniqueColorsValuesArray=Array.from(new Set(uniqueColorsValuesArray));var uniqueCategories=products.map(function(e){return e.type});uniqueCategories=Array.from(new Set(uniqueCategories));var colorsCheckboxContainer=document.querySelector("ul[data-filter-tax=colors]"),typesCheckboxContainer=document.querySelector("ul[data-filter-tax=types]"),userCheckedTaxes={},applyTaxEventListener=function(e,o){e.addEventListener("change",function(e){var r=e.target.value;if(userCheckedTaxes.hasOwnProperty(o))if(userCheckedTaxes[o].includes(r)){var t=userCheckedTaxes[o].findIndex(function(e){return e===r});userCheckedTaxes[o].splice(t,1)}else userCheckedTaxes[o].push(r);else{var n=[];n.push(r),userCheckedTaxes[o]=n}console.log(userCheckedTaxes),applyTaxes(userCheckedTaxes)})},applyTaxes=function(t){n=products.filter(function(e){return productDoesMatchSelections(e,t)});function e(r){t.hasOwnProperty(r)&&(n[r]=products.filter(function(e){return"string"==typeof e[r]?!!t[r].includes(e[r]):"object"===_typeof(e[r])?e[r].some(function(e){return 0<=t[r].indexOf(e)}):void 0}))}var n={};for(var r in t)e(r);for(var o in uniqueCheckedProducts=[],n)if(n.hasOwnProperty(o))for(var a=0;a<n[o].length;a++){var u=n[o][a];uniqueCheckedProducts.push(u)}var c,i=Object.keys(n),s=_toArray(i),l=s[0],d=s.slice(1),p=[],f=_createForOfIteratorHelper(d);try{for(f.s();!(c=f.n()).done;){var y=c.value;if(n.hasOwnProperty(y))for(var m=0;m<n[y].length;m++){var h=n[y][m];console.log(h),p.push(n[y][m])}}}catch(e){f.e(e)}finally{f.f()}var v=n[l].filter(function(e){return p.includes(e)});1===i.length?renderProducts(uniqueCheckedProducts):renderProducts(v)},renderTaxes=function(e,o){var a=document.querySelector("ul[data-filter-tax=".concat(o,"]"));a.innerHTML="",e.sort(),e.forEach(function(e){var r=document.createElement("li"),t=document.createElement("label");t.innerText=e,t.setAttribute("for",e);var n=document.createElement("input");n.type="checkbox",n.value=e,n.name=e,n.id=e,r.append(n),r.append(t),a.append(r),applyTaxEventListener(n,o)})};renderTaxes(uniqueColorsValuesArray,"colors"),renderTaxes(uniqueCategories,"type");var range=document.querySelector(".range__input"),rangeScaleLow=document.querySelector(".range__scale--low"),rangeScaleHigh=document.querySelector(".range__scale--high"),lowestProductPrice=_toConsumableArray(products).sort(function(e,r){return e.price-r.price})[0].price,highestProductPrice=_toConsumableArray(products).sort(function(e,r){return r.price-e.price})[0].price;rangeScaleLow.innerText="$".concat(lowestProductPrice),rangeScaleHigh.innerText="$".concat(highestProductPrice),range.setAttribute("min",lowestProductPrice),range.setAttribute("max",highestProductPrice);var applyFilters=function(r,t){var e=products.filter(function(e){return e.price>=r&&e.price<=t});renderProducts(e)};range.addEventListener("change",function(){console.log(range.value);var e=parseInt(0),r=parseInt(range.value);applyFilters(e,r)});var sortProductsSelect=document.querySelector("#sort_products");sortProductsSelect.addEventListener("change",function(e){var r=e.target.value;if("default"===r)renderProducts(products);else if("price_highest"===r){var t=_toConsumableArray(products).sort(function(e,r){return r.price-e.price});renderProducts(t)}else if("price_lowest"===r){var n=_toConsumableArray(products).sort(function(e,r){return e.price-r.price});renderProducts(n)}});